{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../src/app/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","\"use client\";\n\nimport Image from \"next/image\";\nimport { FormEvent, useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ntype LoginResponse = {\n  ok?: boolean;\n  error?: string;\n};\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [nextPath, setNextPath] = useState(\"/\");\n  const [theme, setTheme] = useState<\"dark\" | \"light\">(\"dark\");\n  const [isThemeInitialized, setIsThemeInitialized] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    const params = new URLSearchParams(window.location.search);\n    const nextParam = params.get(\"next\");\n\n    if (!nextParam) {\n      return;\n    }\n\n    if (!nextParam.startsWith(\"/\") || nextParam.startsWith(\"//\")) {\n      setNextPath(\"/\");\n      return;\n    }\n\n    setNextPath(nextParam);\n  }, []);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    const savedTheme = window.localStorage.getItem(\"dashboard-theme\");\n    if (savedTheme === \"dark\" || savedTheme === \"light\") {\n      setTheme(savedTheme);\n    }\n\n    setIsThemeInitialized(true);\n  }, []);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    if (!isThemeInitialized) {\n      return;\n    }\n\n    window.localStorage.setItem(\"dashboard-theme\", theme);\n  }, [isThemeInitialized, theme]);\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const payload = (await response.json()) as LoginResponse;\n\n      if (!response.ok || !payload.ok) {\n        setError(payload.error ?? \"No se pudo iniciar sesi√≥n.\");\n        return;\n      }\n\n      router.replace(nextPath);\n      router.refresh();\n    } catch {\n      setError(\"No se pudo conectar con el servicio de autenticaci√≥n.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const mainClass =\n    theme === \"dark\"\n      ? \"min-h-screen bg-zinc-950 px-6 py-10 text-zinc-100\"\n      : \"min-h-screen bg-zinc-50 px-6 py-10 text-zinc-900\";\n\n  const cardClass =\n    theme === \"dark\"\n      ? \"w-full rounded-2xl border border-white/15 bg-white/5 p-6 shadow-[0_10px_28px_-18px_rgba(56,189,248,0.45)] backdrop-blur-2xl\"\n      : \"w-full rounded-2xl border border-zinc-200 bg-white p-6 shadow-[0_10px_28px_-18px_rgba(15,23,42,0.25)]\";\n\n  const topLabelClass = theme === \"dark\" ? \"text-zinc-400\" : \"text-zinc-500\";\n  const titleClass = theme === \"dark\" ? \"text-white\" : \"text-zinc-900\";\n  const fieldLabelClass = theme === \"dark\" ? \"text-zinc-300\" : \"text-zinc-600\";\n\n  const inputClass =\n    theme === \"dark\"\n      ? \"w-full rounded-lg border border-white/15 bg-zinc-900/70 px-3 py-2 text-sm text-zinc-100 outline-none ring-sky-400 transition focus:ring\"\n      : \"w-full rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-800 outline-none ring-sky-500 transition focus:ring\";\n\n  if (!isThemeInitialized) {\n    return null;\n  }\n\n  return (\n    <main className={mainClass}>\n      <div className=\"mx-auto flex min-h-[80vh] w-full max-w-md items-center\">\n        <section className={cardClass}>\n          <div className=\"flex items-center justify-between gap-3\">\n            <div\n              className={\n                theme === \"dark\"\n                  ? \"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/5 px-4 text-xs font-semibold tracking-wider text-zinc-200\"\n                  : \"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-4 text-xs font-semibold tracking-wider text-zinc-700\"\n              }\n            >\n              <div className=\"relative h-6 w-28\">\n                <Image\n                  src=\"/logo.png\"\n                  alt=\"Logo\"\n                  fill\n                  sizes=\"112px\"\n                  className=\"object-contain\"\n                  priority\n                />\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              onClick={() => setTheme((current) => (current === \"dark\" ? \"light\" : \"dark\"))}\n              className={\n                theme === \"dark\"\n                  ? \"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/10 px-4 text-xs font-medium text-zinc-200 transition hover:bg-white/15\"\n                  : \"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-4 text-xs font-medium text-zinc-700 transition hover:bg-zinc-100\"\n              }\n              aria-label=\"Cambiar tema\"\n            >\n              {theme === \"dark\" ? \"‚òÄÔ∏è Claro\" : \"üåô Oscuro\"}\n            </button>\n          </div>\n          <p className={`mt-3 text-xs uppercase tracking-[0.2em] ${topLabelClass}`}>Dashboard Ansible IA</p>\n          <h1 className={`mt-2 text-2xl font-semibold tracking-tight ${titleClass}`}>Iniciar sesi√≥n</h1>\n\n          <form onSubmit={handleSubmit} className=\"mt-6 space-y-4\">\n            <label className=\"block\">\n              <span className={`mb-1 block text-sm ${fieldLabelClass}`}>Correo</span>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(event) => setEmail(event.target.value)}\n                required\n                autoComplete=\"email\"\n                className={inputClass}\n                placeholder=\"usuario@empresa.com\"\n              />\n            </label>\n\n            <label className=\"block\">\n              <span className={`mb-1 block text-sm ${fieldLabelClass}`}>Contrase√±a</span>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(event) => setPassword(event.target.value)}\n                required\n                autoComplete=\"current-password\"\n                className={inputClass}\n                placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n              />\n            </label>\n\n            {error ? (\n              <p className=\"rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300\">\n                {error}\n              </p>\n            ) : null}\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"inline-flex h-10 w-full items-center justify-center rounded-lg bg-gradient-to-br from-sky-400 via-cyan-400 to-blue-500 px-4 text-sm font-semibold text-zinc-950 transition hover:from-sky-300 hover:to-blue-400 disabled:cursor-not-allowed disabled:opacity-60\"\n            >\n              {isLoading ? \"Validando...\" : \"Entrar\"}\n            </button>\n          </form>\n        </section>\n      </div>\n    </main>\n  );\n}"],"names":["module","exports","require","vendored","React","ReactDOM","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6]}