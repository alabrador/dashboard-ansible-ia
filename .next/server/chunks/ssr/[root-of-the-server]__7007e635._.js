module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},15197,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(38246),e=a.i(72131),f=a.i(50944);function g(a,b){return"string"==typeof a?a:"object"==typeof a&&null!==a&&"message"in a&&"string"==typeof a.message?a.message:b}function h(){let a=(0,f.useRouter)(),[h,i]=(0,e.useState)("dark"),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)([]),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)("");(0,e.useEffect)(()=>{},[]),(0,e.useEffect)(()=>{},[j,h]);let z=async()=>{u(!0),w("");try{let a=await fetch("/api/auth/local-users"),b=await a.json();if(!a.ok)throw Error(b.error??"No se pudo cargar la lista de usuarios locales.");o(b.users??[])}catch(a){w(g(a,"No se pudo cargar la lista de usuarios locales."))}finally{u(!1)}};(0,e.useEffect)(()=>{z()},[]);let A=async()=>{if(!p.trim()||!r.trim())return void w("Debes ingresar correo y contraseÃ±a.");u(!0),w(""),y("");try{let a=await fetch("/api/auth/local-users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:r})}),b=await a.json();if(!a.ok)throw Error(b.error??"No se pudo guardar el usuario local.");y("Usuario guardado correctamente."),s(""),await z()}catch(a){w(g(a,"No se pudo guardar el usuario local."))}finally{u(!1)}},B=async a=>{u(!0),w(""),y("");try{let b=await fetch("/api/auth/local-users",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),c=await b.json();if(!b.ok)throw Error(c.error??"No se pudo eliminar el usuario local.");y("Usuario eliminado correctamente."),await z()}catch(a){w(g(a,"No se pudo eliminar el usuario local."))}finally{u(!1)}},C=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),a.replace("/login"),a.refresh()}catch{w("No se pudo cerrar sesiÃ³n.")}},D="dark"===h?"text-zinc-400":"text-zinc-500",E="dark"===h?"text-zinc-300":"text-zinc-600",F="dark"===h?"bg-gradient-to-r from-white via-zinc-100 to-zinc-300 bg-clip-text text-3xl font-semibold tracking-tight text-transparent sm:text-4xl":"bg-gradient-to-r from-zinc-900 via-zinc-700 to-zinc-500 bg-clip-text text-3xl font-semibold tracking-tight text-transparent sm:text-4xl",G="dark"===h?"flex h-9 items-center rounded-lg px-3 text-xs font-medium text-zinc-200 transition hover:bg-white/10":"flex h-9 items-center rounded-lg px-3 text-xs font-medium text-zinc-700 transition hover:bg-zinc-100";return j?(0,b.jsxs)("main",{className:"dark"===h?"min-h-screen bg-zinc-950 text-zinc-100":"min-h-screen bg-zinc-50 text-zinc-900",children:["dark"===h?(0,b.jsxs)("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[(0,b.jsx)("div",{className:"absolute left-1/2 top-16 h-72 w-72 -translate-x-1/2 rounded-full bg-sky-500/10 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-10 right-20 h-64 w-64 rounded-full bg-indigo-500/10 blur-3xl"})]}):null,(0,b.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-4xl flex-col justify-center gap-6 px-6 py-10",children:[(0,b.jsxs)("header",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsx)(d.default,{href:"/",className:"dark"===h?"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/5 px-4 text-xs font-semibold tracking-wider text-zinc-200":"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-4 text-xs font-semibold tracking-wider text-zinc-700",children:(0,b.jsx)("div",{className:"relative h-6 w-28",children:(0,b.jsx)(c.default,{src:"/logo.png",alt:"Logo",fill:!0,sizes:"112px",className:"object-contain",priority:!0})})}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>i(a=>"dark"===a?"light":"dark"),className:"dark"===h?"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/10 px-4 text-xs font-medium text-zinc-200 transition hover:bg-white/15":"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-4 text-xs font-medium text-zinc-700 transition hover:bg-zinc-100",children:"dark"===h?"â˜€ï¸ Claro":"ðŸŒ™ Oscuro"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{type:"button",onClick:()=>m(a=>!a),className:"dark"===h?"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 bg-white/10 text-zinc-200 transition hover:bg-white/15":"inline-flex h-10 w-10 items-center justify-center rounded-full border border-zinc-300 bg-white text-zinc-700 transition hover:bg-zinc-100","aria-label":"Abrir menÃº","aria-expanded":l,children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4","aria-hidden":"true",children:[(0,b.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,b.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,b.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),l?(0,b.jsxs)("div",{className:"dark"===h?"absolute right-0 top-12 z-20 w-56 rounded-xl border border-white/15 bg-zinc-900/95 p-2 shadow-xl":"absolute right-0 top-12 z-20 w-56 rounded-xl border border-zinc-200 bg-white p-2 shadow-xl",children:[(0,b.jsx)(d.default,{href:"/",className:G,onClick:()=>m(!1),children:"Ir a la app"}),(0,b.jsx)(d.default,{href:"/users",className:G,onClick:()=>m(!1),children:"GestiÃ³n de usuarios"}),(0,b.jsx)("button",{type:"button",onClick:()=>{m(!1),C()},className:`${G} w-full`,children:"Cerrar sesiÃ³n"})]}):null]})]})]}),(0,b.jsx)("p",{className:`text-center text-sm uppercase tracking-[0.2em] ${D}`,children:"AdministraciÃ³n"}),(0,b.jsx)("h1",{className:`${F} text-center`,children:"GestiÃ³n de usuarios locales"}),(0,b.jsx)("p",{className:`mx-auto max-w-2xl text-center text-sm ${E}`,children:"Crea, actualiza o elimina usuarios locales de acceso."})]}),(0,b.jsxs)("section",{className:"dark"===h?"rounded-2xl border border-white/15 bg-white/5 p-5 shadow-[0_8px_24px_-16px_rgba(59,130,246,0.35)] backdrop-blur-2xl":"rounded-2xl border border-zinc-200 bg-white p-5 shadow-[0_8px_24px_-16px_rgba(15,23,42,0.2)]",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("h2",{className:`text-xs font-semibold uppercase tracking-wider ${D}`,children:"Usuarios"}),(0,b.jsx)("button",{type:"button",onClick:()=>void z(),disabled:t,className:"dark"===h?"inline-flex h-8 items-center rounded-full border border-white/20 bg-white/10 px-3 text-xs font-medium text-zinc-200 transition hover:bg-white/15 disabled:cursor-not-allowed disabled:opacity-60":"inline-flex h-8 items-center rounded-full border border-zinc-300 bg-white px-3 text-xs font-medium text-zinc-700 transition hover:bg-zinc-100 disabled:cursor-not-allowed disabled:opacity-60",children:"Actualizar lista"})]}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-3 md:grid-cols-3",children:[(0,b.jsx)("input",{type:"email",value:p,onChange:a=>q(a.target.value),placeholder:"Correo",className:"dark"===h?"rounded-lg border border-white/15 bg-zinc-900/70 px-3 py-2 text-sm text-zinc-100 outline-none ring-sky-400 transition focus:ring":"rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-800 outline-none ring-sky-500 transition focus:ring"}),(0,b.jsx)("input",{type:"password",value:r,onChange:a=>s(a.target.value),placeholder:"ContraseÃ±a",className:"dark"===h?"rounded-lg border border-white/15 bg-zinc-900/70 px-3 py-2 text-sm text-zinc-100 outline-none ring-sky-400 transition focus:ring":"rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-800 outline-none ring-sky-500 transition focus:ring"}),(0,b.jsx)("button",{type:"button",onClick:()=>void A(),disabled:t,className:"inline-flex h-10 items-center justify-center rounded-lg bg-gradient-to-br from-sky-400 via-cyan-400 to-blue-500 px-4 text-sm font-semibold text-zinc-950 transition hover:from-sky-300 hover:to-blue-400 disabled:cursor-not-allowed disabled:opacity-60",children:"Guardar usuario"})]}),v?(0,b.jsx)("p",{className:"mt-3 rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:v}):null,x?(0,b.jsx)("p",{className:"mt-3 rounded-lg border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-300",children:x}):null,(0,b.jsx)("div",{className:"dark"===h?"mt-4 rounded-lg border border-zinc-700 bg-zinc-950/70 p-3 text-xs text-zinc-300":"mt-4 rounded-lg border border-zinc-200 bg-zinc-100 p-3 text-xs text-zinc-700",children:n.length?(0,b.jsx)("div",{className:"space-y-2",children:n.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("span",{className:"truncate",children:a}),(0,b.jsx)("button",{type:"button",onClick:()=>void B(a),disabled:t,className:"inline-flex h-8 items-center rounded-lg border border-red-500/40 bg-red-500/10 px-3 text-xs font-medium text-red-300 transition hover:bg-red-500/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Eliminar"})]},a))}):(0,b.jsx)("p",{children:"No hay usuarios locales guardados."})})]})]})]}):null}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7007e635._.js.map