(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r={es:"es-ES",en:"en-US",it:"it-IT",pt:"pt-PT"},n=[{code:"es",label:"ES"},{code:"en",label:"EN"},{code:"it",label:"IT"},{code:"pt",label:"PT"}],i={es:{themeLight:"â˜€ï¸ Claro",themeDark:"ðŸŒ™ Oscuro",themeToggleAria:"Cambiar tema",languageLabel:"Idioma",languageSelectAria:"Cambiar idioma",headerSubtitle:"Dashboard Ansible - Whisper IA",pageDescription:"Presiona el botÃ³n, habla que tarea quieres ejecutar y se ejecutarÃ¡ automÃ¡ticamente en AWX.",buttonProcessing:"Procesando...",buttonStop:"Detener grabaciÃ³n",buttonSpeak:"Hablar ahora",statusProcessing:"Procesando audio y ejecutando en AWX...",statusListening:"Escuchando y transcribiendo en vivo...",statusCaptured:"Audio capturado. Ejecutando comando...",statusReady:"Listo para escuchar tu orden",sectionTranscript:"TranscripciÃ³n",transcriptPlaceholder:"AquÃ­ aparecerÃ¡ el texto reconocido por Whisper.",sectionResult:"Resultado AWX",commandDetected:"Comando detectado",viewAwx:"Ver ejecuciÃ³n en AWX",noExecution:"AÃºn no hay ejecuciÃ³n.",availableCommands:"Comandos disponibles:",micAccessError:"No se pudo acceder al micrÃ³fono.",unknownError:"Error inesperado.",invalidAudioCommand:"No se encontrÃ³ un comando vÃ¡lido en el audio."},en:{themeLight:"â˜€ï¸ Light",themeDark:"ðŸŒ™ Dark",themeToggleAria:"Toggle theme",languageLabel:"Language",languageSelectAria:"Change language",headerSubtitle:"Ansible Dashboard - Whisper AI",pageDescription:"Press the button, say the task you want to run, and it will execute automatically in AWX.",buttonProcessing:"Processing...",buttonStop:"Stop recording",buttonSpeak:"Speak now",statusProcessing:"Processing audio and executing in AWX...",statusListening:"Listening and transcribing live...",statusCaptured:"Audio captured. Executing command...",statusReady:"Ready to listen to your command",sectionTranscript:"Transcript",transcriptPlaceholder:"Whisper transcript will appear here.",sectionResult:"AWX Result",commandDetected:"Detected command",viewAwx:"View execution in AWX",noExecution:"No execution yet.",availableCommands:"Available commands:",micAccessError:"Could not access the microphone.",unknownError:"Unexpected error.",invalidAudioCommand:"No valid command was found in the audio."},it:{themeLight:"â˜€ï¸ Chiaro",themeDark:"ðŸŒ™ Scuro",themeToggleAria:"Cambia tema",languageLabel:"Lingua",languageSelectAria:"Cambia lingua",headerSubtitle:"Dashboard Ansible - Whisper IA",pageDescription:"Premi il pulsante, pronuncia l'attivitÃ  da eseguire e verrÃ  avviata automaticamente in AWX.",buttonProcessing:"Elaborazione...",buttonStop:"Ferma registrazione",buttonSpeak:"Parla ora",statusProcessing:"Elaborazione audio ed esecuzione in AWX...",statusListening:"Ascolto e trascrizione in tempo reale...",statusCaptured:"Audio acquisito. Esecuzione comando...",statusReady:"Pronto ad ascoltare il tuo comando",sectionTranscript:"Trascrizione",transcriptPlaceholder:"Qui apparirÃ  il testo riconosciuto da Whisper.",sectionResult:"Risultato AWX",commandDetected:"Comando rilevato",viewAwx:"Vedi esecuzione in AWX",noExecution:"Nessuna esecuzione ancora.",availableCommands:"Comandi disponibili:",micAccessError:"Impossibile accedere al microfono.",unknownError:"Errore imprevisto.",invalidAudioCommand:"Nessun comando valido trovato nell'audio."},pt:{themeLight:"â˜€ï¸ Claro",themeDark:"ðŸŒ™ Escuro",themeToggleAria:"Alternar tema",languageLabel:"Idioma",languageSelectAria:"Alterar idioma",headerSubtitle:"Dashboard Ansible - Whisper IA",pageDescription:"Pressione o botÃ£o, diga a tarefa que deseja executar e ela serÃ¡ executada automaticamente no AWX.",buttonProcessing:"Processando...",buttonStop:"Parar gravaÃ§Ã£o",buttonSpeak:"Falar agora",statusProcessing:"Processando Ã¡udio e executando no AWX...",statusListening:"Ouvindo e transcrevendo ao vivo...",statusCaptured:"Ãudio capturado. Executando comando...",statusReady:"Pronto para ouvir seu comando",sectionTranscript:"TranscriÃ§Ã£o",transcriptPlaceholder:"Aqui aparecerÃ¡ o texto reconhecido pelo Whisper.",sectionResult:"Resultado AWX",commandDetected:"Comando detectado",viewAwx:"Ver execuÃ§Ã£o no AWX",noExecution:"Ainda nÃ£o hÃ¡ execuÃ§Ã£o.",availableCommands:"Comandos disponÃ­veis:",micAccessError:"NÃ£o foi possÃ­vel acessar o microfone.",unknownError:"Erro inesperado.",invalidAudioCommand:"Nenhum comando vÃ¡lido foi encontrado no Ã¡udio."}};function o(){let[e,o]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),[l,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(""),[b,f]=(0,a.useState)([]),[w,v]=(0,a.useState)(""),[k,j]=(0,a.useState)("dark"),[A,z]=(0,a.useState)("es"),y=i[A],S=(0,a.useRef)(null),N=(0,a.useRef)([]),C=(0,a.useRef)(null),E=(0,a.useRef)(null),P=(0,a.useRef)(!1),T=(0,a.useRef)(0);(0,a.useEffect)(()=>{let e=window.localStorage.getItem("dashboard-theme");("dark"===e||"light"===e)&&j(e)},[]),(0,a.useEffect)(()=>{window.localStorage.setItem("dashboard-theme",k)},[k]),(0,a.useEffect)(()=>{let e=window.localStorage.getItem("dashboard-language");("es"===e||"en"===e||"it"===e||"pt"===e)&&z(e)},[]),(0,a.useEffect)(()=>{window.localStorage.setItem("dashboard-language",A)},[A]);let D=()=>{E.current&&(clearTimeout(E.current),E.current=null)},R=async e=>{c(!0),g(""),h(null),f([]);try{let t=new FormData;t.append("audio",e,"voice-command.webm");let a=await fetch("/api/execute",{method:"POST",body:t}),r=await a.json();if(r.transcript&&(m(r.transcript),v("")),!a.ok)throw r.supportedCommands?.length&&f(r.supportedCommands),Error(r.error??y.invalidAudioCommand);h(r),d(null)}catch(e){var t;g((t=y.unknownError,"string"==typeof e?e:"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:t))}finally{c(!1)}},W=async()=>{g(""),h(null),v(""),m(""),D(),P.current=!1,T.current=Date.now();try{let e,t=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(t,{mimeType:"audio/webm"});N.current=[];let n=(e=window).SpeechRecognition??e.webkitSpeechRecognition??null;if(n){let e=new n;e.lang=r[A],e.interimResults=!0,e.continuous=!0,e.onresult=e=>{let t=[],a=[];for(let r=0;r<e.results.length;r+=1){let n=e.results[r],i=n[0]?.transcript??"";n.isFinal?t.push(i):a.push(i)}let r=`${t.join(" ")} ${a.join(" ")}`.replace(/\s+/g," ").trim();r&&(P.current=!0,D(),E.current=setTimeout(()=>{let e=Date.now()-T.current;P.current&&e>=900&&S.current?.state==="recording"&&L()},1300),v(r),m(r))},e.onerror=()=>{v("")},e.start(),C.current=e}a.ondataavailable=e=>{e.data.size>0&&N.current.push(e.data)},a.onstop=()=>{let e=new Blob(N.current,{type:"audio/webm"});d(e),t.getTracks().forEach(e=>e.stop()),C.current?.stop(),D(),P.current=!1,R(e)},a.start(),S.current=a,o(!0)}catch{g(y.micAccessError)}},L=()=>{D(),S.current?.state==="recording"&&S.current.stop(),C.current?.stop(),o(!1)},I=s?y.buttonProcessing:e?y.buttonStop:y.buttonSpeak,X="dark"===k?"rounded-2xl border border-white/15 bg-white/5 p-5 shadow-[0_8px_24px_-16px_rgba(59,130,246,0.35)] backdrop-blur-2xl":"rounded-2xl border border-zinc-200 bg-white p-5 shadow-[0_8px_24px_-16px_rgba(15,23,42,0.2)]",_="dark"===k?"min-h-screen bg-zinc-950 text-zinc-100":"min-h-screen bg-zinc-50 text-zinc-900",$="dark"===k?"text-zinc-300":"text-zinc-600",q="dark"===k?"rounded-xl border border-white/10 bg-zinc-950/70 px-4 py-2 text-xs text-zinc-300":"rounded-xl border border-zinc-200 bg-zinc-100 px-4 py-2 text-xs text-zinc-700",U="dark"===k?"rounded-3xl border border-white/15 bg-white/5 p-6 shadow-[0_10px_28px_-18px_rgba(56,189,248,0.45)] backdrop-blur-2xl md:min-h-[260px]":"rounded-3xl border border-zinc-200 bg-white p-6 shadow-[0_10px_28px_-18px_rgba(15,23,42,0.25)] md:min-h-[260px]",M="dark"===k?"bg-gradient-to-r from-white via-zinc-100 to-zinc-300 bg-clip-text text-3xl font-semibold tracking-tight text-transparent sm:text-4xl":"bg-gradient-to-r from-zinc-900 via-zinc-700 to-zinc-500 bg-clip-text text-3xl font-semibold tracking-tight text-transparent sm:text-4xl",O="dark"===k?"text-zinc-400":"text-zinc-500",B="dark"===k?"text-zinc-200":"text-zinc-700",F="dark"===k?"text-zinc-100":"text-zinc-800",V="dark"===k?"text-zinc-400":"text-zinc-500",K="dark"===k?"inline-flex items-center gap-1 font-medium text-sky-300 hover:text-sky-200":"inline-flex items-center gap-1 font-medium text-sky-700 hover:text-sky-600",H="dark"===k?"mt-4 rounded-lg border border-zinc-700 bg-zinc-950/70 p-3 text-xs text-zinc-300":"mt-4 rounded-lg border border-zinc-200 bg-zinc-100 p-3 text-xs text-zinc-700";return(0,t.jsxs)("main",{className:_,children:["dark"===k?(0,t.jsxs)("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[(0,t.jsx)("div",{className:"absolute left-1/2 top-16 h-72 w-72 -translate-x-1/2 rounded-full bg-sky-500/10 blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-10 right-20 h-64 w-64 rounded-full bg-indigo-500/10 blur-3xl"})]}):null,(0,t.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-4xl flex-col justify-center gap-6 px-6 py-10",children:[(0,t.jsxs)("header",{className:"space-y-3 text-center",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[(0,t.jsx)("div",{className:"dark"===k?"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/5 px-2":"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-2",children:(0,t.jsx)("div",{role:"group","aria-label":y.languageSelectAria,className:"dark"===k?"inline-flex h-8 overflow-hidden rounded-full border border-white/15 bg-zinc-900/60":"inline-flex h-8 overflow-hidden rounded-full border border-zinc-300 bg-zinc-100",children:n.map(e=>{let a=A===e.code;return(0,t.jsx)("button",{type:"button",onClick:()=>z(e.code),className:a?"dark"===k?"inline-flex h-8 items-center bg-sky-500/90 px-2.5 text-xs font-semibold text-white":"inline-flex h-8 items-center bg-sky-600 px-2.5 text-xs font-semibold text-white":"dark"===k?"inline-flex h-8 items-center px-2.5 text-xs font-medium text-zinc-300 transition hover:bg-white/10":"inline-flex h-8 items-center px-2.5 text-xs font-medium text-zinc-700 transition hover:bg-zinc-200","aria-pressed":a,children:e.label},e.code)})})}),(0,t.jsx)("button",{type:"button",onClick:()=>j(e=>"dark"===e?"light":"dark"),className:"dark"===k?"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/10 px-4 text-xs font-medium text-zinc-200 transition hover:bg-white/15":"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-4 text-xs font-medium text-zinc-700 transition hover:bg-zinc-100","aria-label":y.themeToggleAria,children:"dark"===k?y.themeLight:y.themeDark})]}),(0,t.jsx)("p",{className:`text-sm uppercase tracking-[0.2em] ${O}`,children:y.headerSubtitle}),(0,t.jsx)("h1",{className:M,children:"Whisper + AWX"}),(0,t.jsx)("p",{className:`mx-auto max-w-2xl text-sm ${$}`,children:y.pageDescription})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsx)("section",{className:U,children:(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4",children:[(0,t.jsxs)("button",{onClick:e?L:W,className:`group relative flex h-20 w-20 items-center justify-center rounded-full border border-white/35 text-2xl font-semibold shadow-lg shadow-sky-500/20 ring-2 ring-white/15 transition-all duration-200 active:scale-95 disabled:cursor-not-allowed disabled:opacity-60 ${e?"bg-red-500 text-white hover:bg-red-400":"bg-gradient-to-br from-sky-400 via-cyan-400 to-blue-500 text-zinc-950 hover:from-sky-300 hover:to-blue-400"}`,disabled:s,children:[(0,t.jsx)("span",{className:`absolute inset-0 rounded-full ${e?"animate-ping bg-red-500/30":""}`}),(0,t.jsx)("span",{className:"relative",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-8 w-8","aria-hidden":"true",children:[(0,t.jsx)("rect",{x:"9",y:"3",width:"6",height:"12",rx:"3"}),(0,t.jsx)("path",{d:"M5 11a7 7 0 0 0 14 0"}),(0,t.jsx)("path",{d:"M12 18v3"}),(0,t.jsx)("path",{d:"M8 21h8"})]})})]}),(0,t.jsx)("p",{className:`text-sm font-medium ${B}`,children:I}),(0,t.jsx)("div",{className:q,children:s?y.statusProcessing:w?y.statusListening:l?y.statusCaptured:y.statusReady})]})}),(0,t.jsxs)("section",{className:`${X} h-full md:min-h-[260px]`,children:[(0,t.jsx)("h2",{className:`text-xs font-semibold uppercase tracking-wider ${O}`,children:y.sectionTranscript}),(0,t.jsx)("p",{className:`mt-3 min-h-16 text-sm leading-relaxed ${F}`,children:u||y.transcriptPlaceholder})]})]}),(0,t.jsxs)("section",{className:X,children:[(0,t.jsx)("h2",{className:`text-xs font-semibold uppercase tracking-wider ${O}`,children:y.sectionResult}),p?(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:p}):null,x?(0,t.jsxs)("div",{className:`mt-3 space-y-2 text-sm ${F}`,children:[(0,t.jsxs)("p",{children:[y.commandDetected,": ",(0,t.jsx)("strong",{children:x.matchedCommand})]}),(0,t.jsxs)("p",{children:["Template ID: ",x.templateId]}),(0,t.jsxs)("p",{children:["Job ID: ",x.jobId]}),(0,t.jsxs)("a",{href:x.awxUrl,target:"_blank",rel:"noreferrer",className:K,children:[y.viewAwx," ",(0,t.jsx)("span",{children:"â†—"})]})]}):(0,t.jsx)("p",{className:`mt-3 text-sm ${V}`,children:y.noExecution}),b.length?(0,t.jsxs)("div",{className:H,children:[(0,t.jsx)("p",{className:"font-semibold",children:y.availableCommands}),(0,t.jsx)("p",{children:b.join(", ")})]}):null]})]})]})}e.s(["default",()=>o])}]);