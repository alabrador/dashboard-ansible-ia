module.exports=[40777,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(38246),e=a.i(72131),f=a.i(50944);let g=[{code:"es",label:"ES"},{code:"en",label:"EN"},{code:"it",label:"IT"},{code:"pt",label:"PT"}],h={es:{themeLight:"â˜€ï¸ Claro",themeDark:"ðŸŒ™ Oscuro",themeToggleAria:"Cambiar tema",languageLabel:"Idioma",languageSelectAria:"Cambiar idioma",headerSubtitle:"Dashboard Ansible - Whisper IA",pageDescription:"Presiona el botÃ³n, habla que tarea quieres ejecutar y se ejecutarÃ¡ automÃ¡ticamente en AWX.",buttonProcessing:"Procesando...",buttonStop:"Detener grabaciÃ³n",buttonSpeak:"Hablar ahora",statusProcessing:"Procesando audio y ejecutando en AWX...",statusListening:"Escuchando y transcribiendo en vivo...",statusCaptured:"Audio capturado. Ejecutando comando...",statusReady:"Listo para escuchar tu orden",sectionTranscript:"TranscripciÃ³n",transcriptPlaceholder:"AquÃ­ aparecerÃ¡ el texto reconocido por Whisper.",sectionResult:"Resultado AWX",commandDetected:"Comando detectado",viewAwx:"Ver ejecuciÃ³n en AWX",noExecution:"AÃºn no hay ejecuciÃ³n.",availableCommands:"Comandos disponibles:",micAccessError:"No se pudo acceder al micrÃ³fono.",unknownError:"Error inesperado.",invalidAudioCommand:"No se encontrÃ³ un comando vÃ¡lido en el audio.",signOut:"Cerrar sesiÃ³n",signOutError:"No se pudo cerrar sesiÃ³n.",localUsersTitle:"Usuarios locales",localUsersDescription:"Crear, actualizar o eliminar accesos locales por correo y contraseÃ±a.",localUsersEmail:"Correo",localUsersPassword:"ContraseÃ±a",localUsersSave:"Guardar usuario",localUsersReload:"Actualizar lista",localUsersEmpty:"No hay usuarios locales guardados.",localUsersDelete:"Eliminar",localUsersSaved:"Usuario guardado correctamente.",localUsersDeleted:"Usuario eliminado correctamente.",localUsersLoadError:"No se pudo cargar la lista de usuarios locales.",localUsersSaveError:"No se pudo guardar el usuario local.",localUsersDeleteError:"No se pudo eliminar el usuario local."},en:{themeLight:"â˜€ï¸ Light",themeDark:"ðŸŒ™ Dark",themeToggleAria:"Toggle theme",languageLabel:"Language",languageSelectAria:"Change language",headerSubtitle:"Ansible Dashboard - Whisper AI",pageDescription:"Press the button, say the task you want to run, and it will execute automatically in AWX.",buttonProcessing:"Processing...",buttonStop:"Stop recording",buttonSpeak:"Speak now",statusProcessing:"Processing audio and executing in AWX...",statusListening:"Listening and transcribing live...",statusCaptured:"Audio captured. Executing command...",statusReady:"Ready to listen to your command",sectionTranscript:"Transcript",transcriptPlaceholder:"Whisper transcript will appear here.",sectionResult:"AWX Result",commandDetected:"Detected command",viewAwx:"View execution in AWX",noExecution:"No execution yet.",availableCommands:"Available commands:",micAccessError:"Could not access the microphone.",unknownError:"Unexpected error.",invalidAudioCommand:"No valid command was found in the audio.",signOut:"Sign out",signOutError:"Could not sign out.",localUsersTitle:"Local users",localUsersDescription:"Create, update, or delete local credentials by email and password.",localUsersEmail:"Email",localUsersPassword:"Password",localUsersSave:"Save user",localUsersReload:"Refresh list",localUsersEmpty:"No local users saved yet.",localUsersDelete:"Delete",localUsersSaved:"User saved successfully.",localUsersDeleted:"User deleted successfully.",localUsersLoadError:"Could not load local users list.",localUsersSaveError:"Could not save local user.",localUsersDeleteError:"Could not delete local user."},it:{themeLight:"â˜€ï¸ Chiaro",themeDark:"ðŸŒ™ Scuro",themeToggleAria:"Cambia tema",languageLabel:"Lingua",languageSelectAria:"Cambia lingua",headerSubtitle:"Dashboard Ansible - Whisper IA",pageDescription:"Premi il pulsante, pronuncia l'attivitÃ  da eseguire e verrÃ  avviata automaticamente in AWX.",buttonProcessing:"Elaborazione...",buttonStop:"Ferma registrazione",buttonSpeak:"Parla ora",statusProcessing:"Elaborazione audio ed esecuzione in AWX...",statusListening:"Ascolto e trascrizione in tempo reale...",statusCaptured:"Audio acquisito. Esecuzione comando...",statusReady:"Pronto ad ascoltare il tuo comando",sectionTranscript:"Trascrizione",transcriptPlaceholder:"Qui apparirÃ  il testo riconosciuto da Whisper.",sectionResult:"Risultato AWX",commandDetected:"Comando rilevato",viewAwx:"Vedi esecuzione in AWX",noExecution:"Nessuna esecuzione ancora.",availableCommands:"Comandi disponibili:",micAccessError:"Impossibile accedere al microfono.",unknownError:"Errore imprevisto.",invalidAudioCommand:"Nessun comando valido trovato nell'audio.",signOut:"Esci",signOutError:"Impossibile uscire.",localUsersTitle:"Utenti locali",localUsersDescription:"Crea, aggiorna o elimina accessi locali con email e password.",localUsersEmail:"Email",localUsersPassword:"Password",localUsersSave:"Salva utente",localUsersReload:"Aggiorna elenco",localUsersEmpty:"Nessun utente locale salvato.",localUsersDelete:"Elimina",localUsersSaved:"Utente salvato correttamente.",localUsersDeleted:"Utente eliminato correttamente.",localUsersLoadError:"Impossibile caricare l'elenco utenti locali.",localUsersSaveError:"Impossibile salvare l'utente locale.",localUsersDeleteError:"Impossibile eliminare l'utente locale."},pt:{themeLight:"â˜€ï¸ Claro",themeDark:"ðŸŒ™ Escuro",themeToggleAria:"Alternar tema",languageLabel:"Idioma",languageSelectAria:"Alterar idioma",headerSubtitle:"Dashboard Ansible - Whisper IA",pageDescription:"Pressione o botÃ£o, diga a tarefa que deseja executar e ela serÃ¡ executada automaticamente no AWX.",buttonProcessing:"Processando...",buttonStop:"Parar gravaÃ§Ã£o",buttonSpeak:"Falar agora",statusProcessing:"Processando Ã¡udio e executando no AWX...",statusListening:"Ouvindo e transcrevendo ao vivo...",statusCaptured:"Ãudio capturado. Executando comando...",statusReady:"Pronto para ouvir seu comando",sectionTranscript:"TranscriÃ§Ã£o",transcriptPlaceholder:"Aqui aparecerÃ¡ o texto reconhecido pelo Whisper.",sectionResult:"Resultado AWX",commandDetected:"Comando detectado",viewAwx:"Ver execuÃ§Ã£o no AWX",noExecution:"Ainda nÃ£o hÃ¡ execuÃ§Ã£o.",availableCommands:"Comandos disponÃ­veis:",micAccessError:"NÃ£o foi possÃ­vel acessar o microfone.",unknownError:"Erro inesperado.",invalidAudioCommand:"Nenhum comando vÃ¡lido foi encontrado no Ã¡udio.",signOut:"Sair",signOutError:"NÃ£o foi possÃ­vel encerrar a sessÃ£o.",localUsersTitle:"UsuÃ¡rios locais",localUsersDescription:"Criar, atualizar ou remover acessos locais por e-mail e senha.",localUsersEmail:"E-mail",localUsersPassword:"Senha",localUsersSave:"Salvar usuÃ¡rio",localUsersReload:"Atualizar lista",localUsersEmpty:"Ainda nÃ£o hÃ¡ usuÃ¡rios locais salvos.",localUsersDelete:"Excluir",localUsersSaved:"UsuÃ¡rio salvo com sucesso.",localUsersDeleted:"UsuÃ¡rio removido com sucesso.",localUsersLoadError:"NÃ£o foi possÃ­vel carregar a lista de usuÃ¡rios locais.",localUsersSaveError:"NÃ£o foi possÃ­vel salvar o usuÃ¡rio local.",localUsersDeleteError:"NÃ£o foi possÃ­vel remover o usuÃ¡rio local."}};function i(){let a=(0,f.useRouter)(),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(""),[u,v]=(0,e.useState)([]),[w,x]=(0,e.useState)(""),[y,z]=(0,e.useState)("dark"),[A,B]=(0,e.useState)("es"),[C,D]=(0,e.useState)(!1),E=h[A],F=(0,e.useRef)(null),G=(0,e.useRef)([]),H=(0,e.useRef)(null),I=(0,e.useRef)(null),J=(0,e.useRef)(!1),K=(0,e.useRef)(0);(0,e.useEffect)(()=>{},[]),(0,e.useEffect)(()=>{},[y]),(0,e.useEffect)(()=>{},[]),(0,e.useEffect)(()=>{},[A]);let L=()=>{I.current&&(clearTimeout(I.current),I.current=null)},M=async a=>{l(!0),t(""),r(null),v([]);try{let b=new FormData;b.append("audio",a,"voice-command.webm");let c=await fetch("/api/execute",{method:"POST",body:b}),d=await c.json();if(d.transcript&&(p(d.transcript),x("")),!c.ok)throw d.supportedCommands?.length&&v(d.supportedCommands),Error(d.error??E.invalidAudioCommand);r(d),n(null)}catch(a){var b;t((b=E.unknownError,"string"==typeof a?a:"object"==typeof a&&null!==a&&"message"in a&&"string"==typeof a.message?a.message:b))}finally{l(!1)}},N=async()=>{t(""),r(null),x(""),p(""),L(),J.current=!1,K.current=Date.now();try{let a=await navigator.mediaDevices.getUserMedia({audio:!0}),b=new MediaRecorder(a,{mimeType:"audio/webm"});G.current=[];b.ondataavailable=a=>{a.data.size>0&&G.current.push(a.data)},b.onstop=()=>{let b=new Blob(G.current,{type:"audio/webm"});n(b),a.getTracks().forEach(a=>a.stop()),H.current?.stop(),L(),J.current=!1,M(b)},b.start(),F.current=b,j(!0)}catch{t(E.micAccessError)}},O=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),a.replace("/login"),a.refresh()}catch{t(E.signOutError)}},P=k?E.buttonProcessing:i?E.buttonStop:E.buttonSpeak,Q="dark"===y?"rounded-2xl border border-white/15 bg-white/5 p-5 shadow-[0_8px_24px_-16px_rgba(59,130,246,0.35)] backdrop-blur-2xl":"rounded-2xl border border-zinc-200 bg-white p-5 shadow-[0_8px_24px_-16px_rgba(15,23,42,0.2)]",R="dark"===y?"text-zinc-300":"text-zinc-600",S="dark"===y?"bg-gradient-to-r from-white via-zinc-100 to-zinc-300 bg-clip-text text-3xl font-semibold tracking-tight text-transparent sm:text-4xl":"bg-gradient-to-r from-zinc-900 via-zinc-700 to-zinc-500 bg-clip-text text-3xl font-semibold tracking-tight text-transparent sm:text-4xl",T="dark"===y?"text-zinc-400":"text-zinc-500",U="dark"===y?"text-zinc-200":"text-zinc-700",V="dark"===y?"text-zinc-100":"text-zinc-800",W="dark"===y?"text-zinc-400":"text-zinc-500",X="dark"===y?"flex h-9 items-center rounded-lg px-3 text-xs font-medium text-zinc-200 transition hover:bg-white/10":"flex h-9 items-center rounded-lg px-3 text-xs font-medium text-zinc-700 transition hover:bg-zinc-100";return(0,b.jsxs)("main",{className:"dark"===y?"min-h-screen bg-zinc-950 text-zinc-100":"min-h-screen bg-zinc-50 text-zinc-900",children:["dark"===y?(0,b.jsxs)("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[(0,b.jsx)("div",{className:"absolute left-1/2 top-16 h-72 w-72 -translate-x-1/2 rounded-full bg-sky-500/10 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-10 right-20 h-64 w-64 rounded-full bg-indigo-500/10 blur-3xl"})]}):null,(0,b.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-4xl flex-col justify-center gap-6 px-6 py-10",children:[(0,b.jsxs)("header",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsx)("div",{className:"dark"===y?"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/5 px-4 text-xs font-semibold tracking-wider text-zinc-200":"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-4 text-xs font-semibold tracking-wider text-zinc-700",children:(0,b.jsx)(c.default,{src:"/logo.png",alt:"Logo",width:120,height:28,className:"h-6 w-auto object-contain",priority:!0})}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[(0,b.jsx)("div",{className:"dark"===y?"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/5 px-2":"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-2",children:(0,b.jsx)("div",{role:"group","aria-label":E.languageSelectAria,className:"dark"===y?"inline-flex h-8 overflow-hidden rounded-full border border-white/15 bg-zinc-900/60":"inline-flex h-8 overflow-hidden rounded-full border border-zinc-300 bg-zinc-100",children:g.map(a=>{let c=A===a.code;return(0,b.jsx)("button",{type:"button",onClick:()=>B(a.code),className:c?"dark"===y?"inline-flex h-8 items-center bg-sky-500/90 px-2.5 text-xs font-semibold text-white":"inline-flex h-8 items-center bg-sky-600 px-2.5 text-xs font-semibold text-white":"dark"===y?"inline-flex h-8 items-center px-2.5 text-xs font-medium text-zinc-300 transition hover:bg-white/10":"inline-flex h-8 items-center px-2.5 text-xs font-medium text-zinc-700 transition hover:bg-zinc-200","aria-pressed":c,children:a.label},a.code)})})}),(0,b.jsx)("button",{type:"button",onClick:()=>z(a=>"dark"===a?"light":"dark"),className:"dark"===y?"inline-flex h-10 items-center rounded-full border border-white/20 bg-white/10 px-4 text-xs font-medium text-zinc-200 transition hover:bg-white/15":"inline-flex h-10 items-center rounded-full border border-zinc-300 bg-white px-4 text-xs font-medium text-zinc-700 transition hover:bg-zinc-100","aria-label":E.themeToggleAria,children:"dark"===y?E.themeLight:E.themeDark}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{type:"button",onClick:()=>D(a=>!a),className:"dark"===y?"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 bg-white/10 text-zinc-200 transition hover:bg-white/15":"inline-flex h-10 w-10 items-center justify-center rounded-full border border-zinc-300 bg-white text-zinc-700 transition hover:bg-zinc-100","aria-label":"Abrir menÃº","aria-expanded":C,children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4","aria-hidden":"true",children:[(0,b.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,b.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,b.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),C?(0,b.jsxs)("div",{className:"dark"===y?"absolute right-0 top-12 z-20 w-56 rounded-xl border border-white/15 bg-zinc-900/95 p-2 shadow-xl":"absolute right-0 top-12 z-20 w-56 rounded-xl border border-zinc-200 bg-white p-2 shadow-xl",children:[(0,b.jsx)(d.default,{href:"/users",className:X,onClick:()=>D(!1),children:"GestiÃ³n de usuarios"}),(0,b.jsx)("button",{type:"button",onClick:()=>{D(!1),O()},className:`${X} w-full`,children:E.signOut})]}):null]})]})]}),(0,b.jsx)("p",{className:`text-center text-sm uppercase tracking-[0.2em] ${T}`,children:E.headerSubtitle}),(0,b.jsx)("h1",{className:`${S} text-center`,children:"Whisper + AWX"}),(0,b.jsx)("p",{className:`mx-auto max-w-2xl text-center text-sm ${R}`,children:E.pageDescription})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,b.jsx)("section",{className:"dark"===y?"rounded-3xl border border-white/15 bg-white/5 p-6 shadow-[0_10px_28px_-18px_rgba(56,189,248,0.45)] backdrop-blur-2xl md:min-h-[260px]":"rounded-3xl border border-zinc-200 bg-white p-6 shadow-[0_10px_28px_-18px_rgba(15,23,42,0.25)] md:min-h-[260px]",children:(0,b.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4",children:[(0,b.jsxs)("button",{onClick:i?()=>{L(),F.current?.state==="recording"&&F.current.stop(),H.current?.stop(),j(!1)}:N,className:`group relative flex h-20 w-20 items-center justify-center rounded-full border border-white/35 text-2xl font-semibold shadow-lg shadow-sky-500/20 ring-2 ring-white/15 transition-all duration-200 active:scale-95 disabled:cursor-not-allowed disabled:opacity-60 ${i?"bg-red-500 text-white hover:bg-red-400":"bg-gradient-to-br from-sky-400 via-cyan-400 to-blue-500 text-zinc-950 hover:from-sky-300 hover:to-blue-400"}`,disabled:k,children:[(0,b.jsx)("span",{className:`absolute inset-0 rounded-full ${i?"animate-ping bg-red-500/30":""}`}),(0,b.jsx)("span",{className:"relative",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-8 w-8","aria-hidden":"true",children:[(0,b.jsx)("rect",{x:"9",y:"3",width:"6",height:"12",rx:"3"}),(0,b.jsx)("path",{d:"M5 11a7 7 0 0 0 14 0"}),(0,b.jsx)("path",{d:"M12 18v3"}),(0,b.jsx)("path",{d:"M8 21h8"})]})})]}),(0,b.jsx)("p",{className:`text-sm font-medium ${U}`,children:P}),(0,b.jsx)("div",{className:"dark"===y?"rounded-xl border border-white/10 bg-zinc-950/70 px-4 py-2 text-xs text-zinc-300":"rounded-xl border border-zinc-200 bg-zinc-100 px-4 py-2 text-xs text-zinc-700",children:k?E.statusProcessing:w?E.statusListening:m?E.statusCaptured:E.statusReady})]})}),(0,b.jsxs)("section",{className:`${Q} h-full md:min-h-[260px]`,children:[(0,b.jsx)("h2",{className:`text-xs font-semibold uppercase tracking-wider ${T}`,children:E.sectionTranscript}),(0,b.jsx)("p",{className:`mt-3 min-h-16 text-sm leading-relaxed ${V}`,children:o||E.transcriptPlaceholder})]})]}),(0,b.jsxs)("section",{className:Q,children:[(0,b.jsx)("h2",{className:`text-xs font-semibold uppercase tracking-wider ${T}`,children:E.sectionResult}),s?(0,b.jsx)("p",{className:"mt-3 rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:s}):null,q?(0,b.jsxs)("div",{className:`mt-3 space-y-2 text-sm ${V}`,children:[(0,b.jsxs)("p",{children:[E.commandDetected,": ",(0,b.jsx)("strong",{children:q.matchedCommand})]}),(0,b.jsxs)("p",{children:["Template ID: ",q.templateId]}),(0,b.jsxs)("p",{children:["Job ID: ",q.jobId]}),(0,b.jsxs)("a",{href:q.awxUrl,target:"_blank",rel:"noreferrer",className:"dark"===y?"inline-flex items-center gap-1 font-medium text-sky-300 hover:text-sky-200":"inline-flex items-center gap-1 font-medium text-sky-700 hover:text-sky-600",children:[E.viewAwx," ",(0,b.jsx)("span",{children:"â†—"})]})]}):(0,b.jsx)("p",{className:`mt-3 text-sm ${W}`,children:E.noExecution}),u.length?(0,b.jsxs)("div",{className:"dark"===y?"mt-4 rounded-lg border border-zinc-700 bg-zinc-950/70 p-3 text-xs text-zinc-300":"mt-4 rounded-lg border border-zinc-200 bg-zinc-100 p-3 text-xs text-zinc-700",children:[(0,b.jsx)("p",{className:"font-semibold",children:E.availableCommands}),(0,b.jsx)("p",{children:u.join(", ")})]}):null]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map